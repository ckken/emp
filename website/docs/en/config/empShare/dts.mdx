import { Badge } from '@theme';

# empShare.dts.sync

<Badge text="remove in v3.1.4" type="danger" />

:::danger title="EmpShare"
After version `v3.1.4`, use [RspackEmpSharePlugin](/plugin/tool/share) instead of `empShare` configuration.
:::

:::tip{title="EmpShare Producer Type Synchronization"}
After `@emp/cli` v3.0.0-beta.31, `@module-federation/enhanced` is integrated to support TypeScript base station type synchronization
:::

## Examples
### 01. Producer - Export Components and Types
```js title="federation_provider/emp-config.js"
export default defineConfig(store => {
  ...
  return {
    ...
    server: {
      port: 3301,
    },
    empShare: {
        name: 'federation_provider',
        exposes: {
        './App': './src/App',
        },
        shared: {
          react: {
            singleton: true,
          },
          'react-dom': {
            singleton: true,
          },
        },
        dts: true,//generate dts
    },
    ...
  }
})
```

### 02. Consumer - Receive Components and Types
```js title="federation_consumer/emp-config.js"
export default defineConfig(store => {
  ...
  return {
    ...
    server: {
      port: 3302,
    },
    empShare: {
        name: 'federation_consumer',
        remotes: {
          '@federation_provider': 'http://localhost:3301',
        },
        shared: {
          react: {
            singleton: true,
          },
          'react-dom': {
            singleton: true,
          },
        },
        dts: true,//generate dts
    },
    ...
  }
})
```